{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\imad\\\\Desktop\\\\ITIXI\\\\test\\\\src\\\\components\\\\Login\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Icon } from \"@iconify/react\";\nimport { Grid, makeStyles, TextField, InputAdornment, Button } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyle = makeStyles({\n  root: {\n    width: \"40%\"\n  }\n});\n\nconst Index = () => {\n  _s();\n\n  const classes = useStyle();\n  const [token, setToken] = useState(\"\");\n  const [searchKey, setSearchKey] = useState(\"\");\n  const CLIENT_ID = \"0ffcec7caf3b459198766c0a334e7232\";\n  const REDIRECT_URI = \"http://localhost:3000/\";\n  const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\n  const RESPONSE_TYPE = \"token\";\n  useEffect(() => {\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem(\"token\"); // getToken()\n\n    if (!token && hash) {\n      token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1];\n      window.location.hash = \"\";\n      window.localStorage.setItem(\"token\", token);\n    }\n\n    setToken(token);\n  }, []);\n\n  const logout = () => {\n    setToken(\"\");\n    window.localStorage.removeItem(\"token\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    style: {\n      minHeight: \"100vh\"\n    },\n    children: !token ? /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      variant: \"outlined\",\n      InputProps: {\n        endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n          position: \"end\",\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"mdi:spotify\",\n            color: \"#1db954\",\n            width: 30\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      },\n      className: classes.root,\n      placeholder: \"Login with spotify\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`,\n        children: \"Login to Spotify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Index, \"KZtLTLKBAtNBpEALXou8xJki1W8=\", false, function () {\n  return [useStyle];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"names":["React","useState","useEffect","Icon","Grid","makeStyles","TextField","InputAdornment","Button","useStyle","root","width","Index","classes","token","setToken","searchKey","setSearchKey","CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","logout","removeItem","minHeight","endAdornment"],"sources":["C:/Users/imad/Desktop/ITIXI/test/src/components/Login/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport {\r\n  Grid,\r\n  makeStyles,\r\n  TextField,\r\n  InputAdornment,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nconst useStyle = makeStyles({\r\n  root: {\r\n    width: \"40%\",\r\n  },\r\n});\r\nconst Index = () => {\r\n  const classes = useStyle();\r\n  const [token, setToken] = useState(\"\");\r\n  const [searchKey, setSearchKey] = useState(\"\");\r\n  const CLIENT_ID = \"0ffcec7caf3b459198766c0a334e7232\";\r\n  const REDIRECT_URI = \"http://localhost:3000/\";\r\n  const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\r\n  const RESPONSE_TYPE = \"token\";\r\n  useEffect(() => {\r\n    const hash = window.location.hash;\r\n    let token = window.localStorage.getItem(\"token\");\r\n\r\n    // getToken()\r\n\r\n    if (!token && hash) {\r\n      token = hash\r\n        .substring(1)\r\n        .split(\"&\")\r\n        .find((elem) => elem.startsWith(\"access_token\"))\r\n        .split(\"=\")[1];\r\n\r\n      window.location.hash = \"\";\r\n      window.localStorage.setItem(\"token\", token);\r\n    }\r\n\r\n    setToken(token);\r\n  }, []);\r\n  const logout = () => {\r\n    setToken(\"\")\r\n    window.localStorage.removeItem(\"token\")\r\n}\r\n  return (\r\n    <Grid\r\n      container\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      style={{ minHeight: \"100vh\" }}\r\n    >\r\n        {!token ?\r\n        <Button\r\n        color=\"primary\"\r\n        variant=\"outlined\"\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Icon icon=\"mdi:spotify\" color=\"#1db954\" width={30} />\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n        className={classes.root}\r\n        placeholder=\"Login with spotify\"\r\n      >\r\n        <a\r\n          href={`${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`}\r\n        >\r\n          Login to Spotify\r\n        </a>\r\n      </Button>\r\n        :<button onClick={logout}>Logout</button>}\r\n      \r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,gBAArB;AACA,SACEC,IADF,EAEEC,UAFF,EAGEC,SAHF,EAIEC,cAJF,EAKEC,MALF,QAMO,mBANP;;AAOA,MAAMC,QAAQ,GAAGJ,UAAU,CAAC;EAC1BK,IAAI,EAAE;IACJC,KAAK,EAAE;EADH;AADoB,CAAD,CAA3B;;AAKA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAClB,MAAMC,OAAO,GAAGJ,QAAQ,EAAxB;EACA,MAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAMiB,SAAS,GAAG,kCAAlB;EACA,MAAMC,YAAY,GAAG,wBAArB;EACA,MAAMC,aAAa,GAAG,wCAAtB;EACA,MAAMC,aAAa,GAAG,OAAtB;EACAnB,SAAS,CAAC,MAAM;IACd,MAAMoB,IAAI,GAAGC,MAAM,CAACC,QAAP,CAAgBF,IAA7B;IACA,IAAIR,KAAK,GAAGS,MAAM,CAACE,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAZ,CAFc,CAId;;IAEA,IAAI,CAACZ,KAAD,IAAUQ,IAAd,EAAoB;MAClBR,KAAK,GAAGQ,IAAI,CACTK,SADK,CACK,CADL,EAELC,KAFK,CAEC,GAFD,EAGLC,IAHK,CAGCC,IAAD,IAAUA,IAAI,CAACC,UAAL,CAAgB,cAAhB,CAHV,EAILH,KAJK,CAIC,GAJD,EAIM,CAJN,CAAR;MAMAL,MAAM,CAACC,QAAP,CAAgBF,IAAhB,GAAuB,EAAvB;MACAC,MAAM,CAACE,YAAP,CAAoBO,OAApB,CAA4B,OAA5B,EAAqClB,KAArC;IACD;;IAEDC,QAAQ,CAACD,KAAD,CAAR;EACD,CAlBQ,EAkBN,EAlBM,CAAT;;EAmBA,MAAMmB,MAAM,GAAG,MAAM;IACnBlB,QAAQ,CAAC,EAAD,CAAR;IACAQ,MAAM,CAACE,YAAP,CAAoBS,UAApB,CAA+B,OAA/B;EACH,CAHC;;EAIA,oBACE,QAAC,IAAD;IACE,SAAS,MADX;IAEE,cAAc,EAAC,QAFjB;IAGE,UAAU,EAAC,QAHb;IAIE,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAb,CAJT;IAAA,UAMK,CAACrB,KAAD,gBACD,QAAC,MAAD;MACA,KAAK,EAAC,SADN;MAEA,OAAO,EAAC,UAFR;MAGA,UAAU,EAAE;QACVsB,YAAY,eACV,QAAC,cAAD;UAAgB,QAAQ,EAAC,KAAzB;UAAA,uBACE,QAAC,IAAD;YAAM,IAAI,EAAC,aAAX;YAAyB,KAAK,EAAC,SAA/B;YAAyC,KAAK,EAAE;UAAhD;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA;MAFQ,CAHZ;MAUA,SAAS,EAAEvB,OAAO,CAACH,IAVnB;MAWA,WAAW,EAAC,oBAXZ;MAAA,uBAaA;QACE,IAAI,EAAG,GAAEU,aAAc,cAAaF,SAAU,iBAAgBC,YAAa,kBAAiBE,aAAc,EAD5G;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAbA;MAAA;MAAA;MAAA;IAAA,QADC,gBAoBA;MAAQ,OAAO,EAAEY,MAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EA1BL;IAAA;IAAA;IAAA;EAAA,QADF;AA+BD,CA9DD;;GAAMrB,K;UACYH,Q;;;KADZG,K;AAgEN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}